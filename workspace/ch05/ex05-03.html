<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>쇼핑목록</title>

    <script>
      // html 문서 로딩완료(dom객체 생성완료), 이미지, css 같은 외부 컨텐츠 로딩 완료후에 발생하는 이벤트
      document.addEventListener("load", function () {});

      // html 문서 로딩완료(dom객체 생성완료), 후에 발생하는 이벤트
      document.addEventListener("DOMContentLoaded", function () {
        // 첫번째 버튼 찾기
        const btn1 = document.querySelector("div > button");
        const btn2 = btn1.nextElementSibling;
        const btn3 = btn2.nextElementSibling;

        // 이벤트 등록 방법 1 : elem.on<event> 속성에 이벤트 핸들러 추가
        btn1.onclick = function () {
          const movies = document.querySelector("#movies");
          const secontLi = movies.getElementsByTagName("li")[1];
          // 두번째 영화를 어떻게 꺼내냐?
          // const firstLi = movies.firstElementChild;
          // const secontLi = firstLi.nextElementSibling;
          console.log(secontLi?.firstChild.nodeValue);
          // textContent : 요소 노드의 내부 텍스트 노드의 문자열 값
          console.log(secontLi?.textContent);
        };

        // 이벤트 등록방법 3 : addEventListener()
        btn3.addEventListener("click", function () {
          const targetList = document.querySelectorAll(".list");
          for (let i = 0; i < targetList.length; i++) {
            const firstLi = targetList[i].firstElementChild;
            // firstLi?.remove();
            // console.log(firstLi);

            firstLi.parentNode.removeChild(firstLi);
          }
        });
      });

      // 이벤트등록방법 2 : html 에 onclick 으로 함수 연결
      function addMilk() {
        console.log("우유추가예~정");

        const shoppingList = document.getElementById("purchasses");
        const newLi = document.createElement("li"); // li 생성
        const newTxt = document.createTextNode("우유"); // 우유 생성
        console.log(newLi.childNodes);
        newLi.appendChild(newTxt);
        // shoppingList.appendChild(newLi);
        shoppingList.insertBefore(newLi, shoppingList.firstChild);

        console.log(newLi.childNodes);

        console.log(shoppingList.innerHTML);
        // outerhtml은 나를 포함한 나안의 모든 자식요소
        console.log(shoppingList.outerHTML);
        // innerHTML : 요소 노드의 내부 html코드값을 문자열로 가지고있는 속성
        // const newshoppingList = shoppingList.innerHTML + "<li>우유</li>";
        shoppingList.innerHTML += "<li>우유</li>";
      }
    </script>
  </head>
  <body>
    <h1>쇼핑목록</h1>
    <div>
      <button>두번째 영화찾기</button>
      <button onclick="addMilk();console.log(`우유추가완료잇~`);">
        마지막에 우유 추가
      </button>
      <button>첫번째 항목 삭제</button>
    </div>

    <p>마트에서 사야할 목록</p>
    <ul id="purchasses" class="list">
      <li>두부</li>
      <li>계란</li>
      <li>라면</li>
    </ul>

    <p>보고싶은 영화 목록</p>
    <ul id="movies" class="list">
      <li>어벤져스</li>
      <li>다크나이트</li>
      <li>미션임파서블</li>
    </ul>
  </body>
</html>
